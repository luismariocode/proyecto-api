<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jsPDF-master/dist/jspdf.es.min.js"></script>
    <script src="js/jsPDF-master/dist/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="js/jsPDF-master/src/jspdf.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.min.js"></script>

    <title>Resultados</title>
</head>

<body>

    <header>

        <div class="contenido">
            <img src="assets/logoheader.svg" alt="logo de la compañia">
        </div>
        <div class="inst"><a href="http://www.imss.gob.mx/" target="_blank">IMSS</a></div>
    </header>



    <div class="tabla-titulo">
        <h1>Resultados</h1>
        <button id="btnExportar"></button>
    </div>

    <div class="tabla-container">
        <div class="total-resultados">
            <p> <b>NSS</b></p>
            <p id="nss">-</p>
            <p><b>Sueldo cotizacion</b></p>
            <p>$</p>
            <p><b>Saldo Cuenta individual</b></p>
            <p>$</p>
            <p><b>Pension por renta</b></p>
            <p>$</p>

            <p><b>Pension minima</b></p>
            <p>$</p>
        </div>
        <div class="scroll">

            <table id="resultados">
                <caption>
                    <h3>Proyeccion de cuenta individual</h3>
                </caption>
                <thead>

                    <tr>
                        <th>Edad</th>
                        <th>Antiguedad</th>
                        <th>Sueldo cotizacion</th>
                        <th>Saldo individual</th>
                        <th>Renta vitalicia</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>
    <script>



        var jsonResultados = '[{"edad":"25","Antiguedad":"61","sueldoCot":"$2500","saldoInd":"$2500","RentaVital":"2500"},{"edad":"25","Antiguedad":"61","SueldoCot":"$2500","saldoInd":"$2500","RentaVital":"2500" }]';
        // Parsear el JSON
        var resultados = JSON.parse(jsonResultados);
        // Obtener la referencia a la tabla
        var tabla = document.getElementById('resultados');
        // Recorrer los resultados y agregarlos a la tabla
        resultados.forEach(function (resultado) {
            var fila = document.createElement('tr');

            var celdaEdad = document.createElement('td');
            celdaEdad.textContent = resultado.edad;
            fila.appendChild(celdaEdad);

            var celdaAntiguedad = document.createElement('td');
            celdaAntiguedad.textContent = resultado.Antiguedad;
            fila.appendChild(celdaAntiguedad);

            var celdaSueldoCot = document.createElement('td');
            celdaSueldoCot.textContent = resultado.sueldoCot;
            fila.appendChild(celdaSueldoCot);


            var celdaSaldoInd = document.createElement('td');
            celdaSaldoInd.textContent = resultado.saldoInd;
            fila.appendChild(celdaSaldoInd);

            var celdaRenta = document.createElement('td');
            celdaRenta.textContent = resultado.RentaVital;
            fila.appendChild(celdaRenta);

            tabla.appendChild(fila);
        });



        // aqui se va generar el pdf con la informacion


        // Función para generar el PDF al hacer clic en el botón
        document.getElementById("btnExportar").addEventListener("click", function () {
            var contenidoDiv = document.getElementsByClassName("tabla-container");

            html2pdf().from(contenidoDiv).save();
        });



    </script>
</body>

</html>